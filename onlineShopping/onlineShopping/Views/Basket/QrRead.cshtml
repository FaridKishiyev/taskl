
<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>QrRead</title>
    <script src="~/assets/js/html5-qrcode.min.js"></script>
</head>
<body>

    <style>
        .result {
            background-color: green;
            color: #fff;
            padding: 20px;
        }

        .row {
            display: flex;
        }
    </style>

    <div class="qr-scanner-area" style="width: 100%; height: 100vh; display:flex; justify-content:center; align-items:center">
        <div class="row">
            <div class="col">
                <div style="width: 500px" id="reader"></div>
            </div>
            <div class="col" style="padding: 30px">
                <h4>Skan Nəticəsi</h4>
                <div id="result">Nəticə..</div>
            </div>
        </div>
        <form method="post">
            <input id="addBasketQrTextId" type="hidden" name="addBasketQrText" value=""/>
            <button type="submit" class="btn btn-success">Səbətə əlavə et</button>
        </form>
    </div>

    <script type="text/javascript">
        function onScanSuccess(qrCodeMessage) {
          document.getElementById("result").innerHTML =
            '<span class="result"> Məhsul seçildi </span>';
                document.getElementById("addBasketQrTextId").value = qrCodeMessage;
            console.log(document.getElementById("addBasketQrTextId").value);
        }

        function onScanError(errorMessage) {
          //handle scan error
        }

        var html5QrcodeScanner = new Html5QrcodeScanner("reader", {
          fps: 10,
          qrbox: 250,
        });
        html5QrcodeScanner.render(onScanSuccess, onScanError);
    </script>

</body>
</html>
